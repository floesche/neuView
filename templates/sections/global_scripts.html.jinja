{# Global JavaScript functionality for all pages #}
<script>
document.addEventListener('DOMContentLoaded', function() {
    const feedbackBtn = document.getElementById('feedback-btn');
    if (feedbackBtn) {
        feedbackBtn.addEventListener('click', function(e) {
            e.preventDefault();
            const githubUrl = "{{ config.html.github_repo }}/issues/new?template=feedback.yml" +
                "&url=" + encodeURIComponent(window.location.href) +
                "&browser=" + encodeURIComponent(navigator.userAgent) +
                "&dataset=" + encodeURIComponent("{{ config.neuprint.dataset }}") +
                "&neuview-version=" + encodeURIComponent("{{ git_version }}") +
                "&snapshot-date=" + encodeURIComponent("{{ generation_time.strftime('%Y-%m-%d %H:%M') }}");
            window.open(githubUrl, '_blank');
        });
    }
});
</script>
